# =============================================================================
# VetAI Consultant - Docker Environment Variables
# Copy this file to .env and fill in your values
# =============================================================================
#
# This file contains all the configuration needed for Docker deployment.
# The application will use GLM 4.7 AI model from ZhipuAI (Z.ai) for most
# AI features, and Gemini for the Graphiti knowledge graph LLM client.
#
# REQUIRED API KEYS:
# 1. GLM API key from https://open.bigmodel.cn/ (for transcription, search)
# 2. Gemini API key from https://aistudio.google.com/ (for knowledge graphs)
#
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: GLM API Configuration (ZhipuAI / Z.ai)
# Get your API key from: https://open.bigmodel.cn/
# Sign up for a free account and get your API key
# Used for: Transcription, semantic search, data extraction
# -----------------------------------------------------------------------------
# Frontend environment variables (with VITE_ prefix for client-side access)
VITE_GLM_API_KEY=your_glm_api_key_here
VITE_GLM_API_URL=https://api.z.ai/api/anthropic
VITE_GLM_MODEL=glm-4.7
VITE_GLM_EMBEDDING_URL=https://api.z.ai/api/v1/embeddings

# -----------------------------------------------------------------------------
# REQUIRED: Gemini API Configuration (Google AI)
# Get your API key from: https://aistudio.google.com/app/apikey
# Used for: Graphiti knowledge graph LLM client
# -----------------------------------------------------------------------------
API_KEY=your_gemini_api_key_here

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# The database is included in the Docker setup with pgvector extension
# -----------------------------------------------------------------------------
POSTGRES_DB=vetai
POSTGRES_USER=vetai
POSTGRES_PASSWORD=vetai_dev_password_change_me

# Frontend PostgreSQL connection string (auto-generated, usually don't need to change)
VITE_POSTGRES_URL=postgresql://vetai:vetai_dev_password_change_me@postgres:5432/vetai

# Backend PostgreSQL connection (for direct database access)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# FalkorDB Graph Database Configuration
# Used for: Knowledge graph storage via Graphiti
# -----------------------------------------------------------------------------
FALKORDB_HOST=falkordb
FALKORDB_PORT=6379

# -----------------------------------------------------------------------------
# Graphiti Configuration
# Temporal knowledge graph library for entity extraction
# -----------------------------------------------------------------------------
GRAPHITI_GRAPH_NAME=vetai_knowledge

# -----------------------------------------------------------------------------
# Backend API Configuration
# FastAPI backend for file I/O and graph operations
# -----------------------------------------------------------------------------
VITE_BACKEND_URL=/api
BACKEND_PORT=8000

# -----------------------------------------------------------------------------
# Port Configuration (Optional)
# Change these if you have conflicts with other services
# -----------------------------------------------------------------------------
FRONTEND_PORT=8080
POSTGRES_PORT=54324
FALKORDB_PORT=6379

# -----------------------------------------------------------------------------
# Docker Compose Notes
# -----------------------------------------------------------------------------
# Quick Start:
#   1. Copy this file to .env: cp .env.docker.example .env
#   2. Edit .env and add your API keys
#   3. Start: docker-compose up -d
#   4. Open: http://localhost:8080
#
# Important Notes:
# - The .env file should be in the same directory as docker-compose.yml
# - Do NOT commit .env to version control (it's in .gitignore)
# - All services run on a Docker internal network (vetai-network)
# - Data persists in Docker volumes even after container restart
# - Database migrations run automatically on first startup
# - Graph features require both API keys (GLM for AI, Gemini for Graphiti)
#
# Architecture (4 services):
#   - Frontend: nginx + React SPA (port 8080)
#   - Backend: FastAPI Python (port 8000)
#   - PostgreSQL: Database with pgvector (port 54324)
#   - FalkorDB: Graph database (port 6379)
#
# To Stop:
#   docker-compose down
#
# To View Logs:
#   docker-compose logs -f
#   docker-compose logs -f backend  # Backend only
#   docker-compose logs -f falkordb # FalkorDB only
#
# To Rebuild:
#   docker-compose up -d --build
#
# -----------------------------------------------------------------------------
